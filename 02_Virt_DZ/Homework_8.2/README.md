# Царьков В.В. 
# Домашнее задание к занятию "08.02 Работа с Playbook"

# Что делает Playbook:
```
    Устанавливаем clickhouse
    Скачиваем дистрибутив согласно прописанным переменным в /group_vars/clickhouse/vars.yml
    Из-за другого названия пакета, используем блок rescue и скачиваем правильный пакет
    Производим установку пакетов с подстановкой переменных из /group_vars/clickhouse/vars.yml
    Вызываем принудительно/обязательно handlers - для перезапуска clickhouse-server
    Производим создание БД, в случае кода rc отличного от 0 - успешное выполнение или 82 - таблица уже существует - задача будет с ошибкой, а если rc будет 0 - тогда задача завершена со статусом changed
    Производим установку vector
    Скачиваем дистрибутив с подстановкой переменных из /group_vars/vector/vars.yml
    Устанавливаем скаченный дистрибутив
    Вызываем handlers - для перезапуска службы vector
```
# Переменные в playbook
```
Переменные, значения которых можно обновить:

| Название переменной | Значение по умолчанию | Тип | Описание|
|:------------------|:-------------------:|:-:|:------:|
| clickhouse_version | 22.3.3.44 | Строка | Версия ClickHouse|
| vector_version | 0.22.2 | Строка | Версия Vector |
```